<!DOCTYPE html>
<html lang="en" , xmlns:th="http://thymeleaf.org ">
<head>
    <meta charset="UTF-8">
    <title>Акция</title>
    <link th:href="@{/styles/main.css}" rel="stylesheet"/>
</head>
<body>

<a th:href="@{/view/}">На главную</a>
<br/>

<h1>Создание Акции</h1>


<form th:method="Post" th:action="@{/view/createAction}" th:object="${action}">

    <!-- picturePaths -->
    <label>Enter picturePaths</label>
    <br/>

    <label for="picturePaths.small">---Enter picturePaths small</label>
    <input type="text" th:field="*{picturePaths.small}" id="picturePaths.small"/>
    <br/>

    <label for="picturePaths.medium">---Enter picturePaths medium</label>
    <input type="text" th:field="*{picturePaths.medium}" id="picturePaths.medium"/>
    <br/>

    <label for="picturePaths.large">---Enter picturePaths large</label>
    <input type="text" th:field="*{picturePaths.large}" id="picturePaths.large"/>
    <div style="color: red" th:if="${#fields.hasErrors('picturePaths.large')}" th:errors="*{picturePaths.large}">error
    </div>
    <br/>

    <!--name-->
    <label for="name">Enter name</label>
    <input type="text" th:field="*{name}" id="name"/>
    <div style="color: red" th:if="${#fields.hasErrors('name')}" th:errors="*{name}">error</div>
    <br/>

    <!--dishes-->
    <label for="dishes">dishes</label>
    <select class="form-control" id="dishes" th:field="*{dishes}" multiple="multiple">
        <option th:value="null"
                th:text="Nothing"></option>

        <option th:each="dish : ${action.dishes}"
                th:value="${{dish}}"
                th:text="${dish.name}"></option>
    </select>
    <div style="color: red" th:if="${#fields.hasErrors('dishes')}" th:errors="*{dishes}">error</div>
    <br/>

    <!--newPrice-->
    <label for="newPrice">Введи новую цену для всех выбранных блюд</label>
    <input type="text" id="newPrice" th:value="${newPrice}" name="newPrice"/>
    <br/>

    <input type="submit" value="Создать">


    <div th:if="${createdAction != null}" th:object="${createdAction}">
        <br/>
        <h1>Созданная добавка</h1>
        <h4 th:utext="${createdAction}"/>
    </div>

</form>

</body>
</html>